<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8" />
  <title>React Course</title>
  <link rel="shortcut icon" href="img/react.ico" type="image/x-icon">
  <link rel="stylesheet" href="style/style.css">
  <script src="libs/react.development.js"></script>
  <script src="libs/reactDom.development.js"></script>
  <script src="libs/babel.min.js">
    // Note: for a production-ready setup with JSX:
    // https://reactjs.org/docs/add-react-to-a-website.html#add-jsx-to-a-project
    // In a larger project, you can use an integrated toolchain that includes JSX instead:
    // https://reactjs.org/docs/create-a-new-react-app.html
    // You can also use React without JSX, in which case you can remove Babel:
    // https://reactjs.org/docs/react-without-jsx.html
  </script>
</head>

<body>
  <!-- img placeholder https://source.unsplash.com/random/1200x400 -->
  <table id="root">
    <tr>
      <td id="exercise1" rowSpan="4" style="overflow: hidden"></td>
      <td id="exercise2" rowSpan="4"></td>
      <td id="exercise3" style="height:1em"></td>
    </tr>
    <tr>
      <td id="exercise4" class="parent-of-h100" style="height:2em"></td>
    </tr><tr>
      <td id="exercise5" style="height:6em"></td>
    </tr><tr>
      <td id="exercise6"></td>
    </tr>
  </table>
  <script type="text/babel">
    //#region f(x)s for imgs, ternaries and &&
    function makeLotr(e) {
      const p50 = Math.random() < 0.5;
      const url = ( p50 ?
        "img/m.png" :
        "img/f.png"
      );
      e.target.setAttribute('src', url);
      // { p50 && algo } renderiza el algo sÃ³lo si p50 es verdadero
      const alt = (p50?"legolas":"galadrieu");
      e.target.setAttribute('alt', alt);
    }
    const image = (
      <img
        src="img/react.png"
        alt="react"
        className="adjust-top-60p-viewport center-horizontally App-logo"
        onClick={makeLotr}
      />
    );
    //#endregion
    ReactDOM.render(image, document.getElementById('exercise1'));

    const friends = [{
      title: "Hey Guys! Wait Up!",
      src: "https://content.codecademy.com/courses/React/react_photo-earnestfrog.jpg"
    }];
    // New component class starts here:
    class Friend extends React.Component {
      render() {
        let friend = friends[0];
        return (
          <div>
            <div>{friend.title}</div>
            <img alt={friends.title} src={friend.src} style={{maxWidth: 33+"vw"}}/>
          </div>
        );
      }
    }
    ReactDOM.render(<Friend/>, document.getElementById("exercise2"));

    // vars & functions in render IN class
    class Random extends React.Component {
      render() {
        const n = Math.floor(Math.random() * 10 + 1);
        return <div>The number is {n}!</div>;
      }
    }
    ReactDOM.render(<Random/>, document.getElementById('exercise3'));



    // Usage of getters and this within classes
    class IceCreamGuy extends React.Component {
      get food() {
        return 'ice cream';
      }
      onHovering() {
        console.trace("trigger onHovering")
      }
      onMouseEnter() {
        document.getElementsByClassName("hover-div")[0].style.display = "inline";
      }
      onMouseLeave() {
        document.getElementsByClassName("hover-div")[0].style.display = "none";
      }
      render() {
        return <div className="h100"
          onMouseOver={this.onHovering}
          onMouseEnter={this.onMouseEnter}
          onMouseLeave={this.onMouseLeave}
        >
          <div>I like {this.food} when you hover.</div>
          <div className="hover-div">Stop it! Stop hovering!</div>
        </div>;
      }
    }
    ReactDOM.render(<IceCreamGuy/>, document.getElementById("exercise4"));

    //#region JSX Map
        const people = ['Uldaimonthir', 'Legolas', 'Galadrieu'];
    const peopleList = people.map((person, i) => <li key={'person_' + i}>{person}</li>);
    class PeopleUl extends React.Component {
      render() {
        return <ul>{peopleList}</ul>
      }
    }
    //#endregion
    class PropsDisplayer extends React.Component {
      render() {
        const stringProps = JSON.stringify(this.props);
        return (
          <div>
            <div>Check out this props object</div>
            <div>{stringProps}</div>
            <div>Hello {this.props.firstName}</div>
            <PeopleUl/>
          </div>
        );
      }
    }
    ReactDOM.render(
      <PropsDisplayer firstName="Pedro"/>,
      document.getElementById('exercise5')
    )
  </script>
</body>

</html>